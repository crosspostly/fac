# –ú–æ–¥—É–ª—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: –¶–£–ü –ö—É–ª–∏–Ω–∞—Ä–∏—è (RuTube)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫—É–ª–∏–Ω–∞—Ä–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ –≤–∏–¥–µ–æ-—É—Ä–æ–∫–æ–≤ –Ω–∞ –∫–∞–Ω–∞–ª Rutube.

## üîÑ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã (–Ø–Ω–≤–∞—Ä—å 2026)

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ç—Ä–∏ —ç—Ç–∞–ø–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏:
1.  **–°–±–æ—Ä –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (Full Info):** –°–∫—Ä–∏–ø—Ç —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –ø–ª–µ–π–ª–∏—Å—Ç YouTube, –∞ –∑–∞—Ç–µ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ –¥–µ–ª–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å (`--dump-json`), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å **–ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫** –±–µ–∑ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π.
2.  **–ó–∞–≥—Ä—É–∑–∫–∞ –í–∏–¥–µ–æ (External Host):** –í–∏–¥–µ–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –∑–∞—Ç–µ–º –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π —Ö–æ—Å—Ç–∏–Ω–≥ (**Catbox.moe**), –ø–æ–ª—É—á–∞–µ–º –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –∏ –ø–µ—Ä–µ–¥–∞–µ–º –µ—ë –≤ API Rutube. –≠—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑–≤–Ω–µ.
3.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –û–±–ª–æ–∂–∫–∏ (Playwright):** –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è "–±–µ–∑–≥–æ–ª–æ–≤—ã–π" –±—Ä–∞—É–∑–µ—Ä, –∑–∞—Ö–æ–¥–∏—Ç –≤ Rutube –°—Ç—É–¥–∏—é –∏ **–≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–¥—Ä –æ–±–ª–æ–∂–∫–∏ –Ω–∞ 00:01**.
4.  **–ö—Ä–æ—Å—Å–ø–æ—Å—Ç–∏–Ω–≥ (Socials):**
    *   **TikTok:** –í—Å–µ **–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ** –≤–∏–¥–µ–æ (Shorts) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ TikTok. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è (–ø—Ä–æ–ø–∞—Ç—á–µ–Ω–Ω–∞—è) –±–∏–±–ª–∏–æ—Ç–µ–∫–∞.
    *   **Instagram:** –í—Ä–µ–º–µ–Ω–Ω–æ **–æ—Ç–∫–ª—é—á–µ–Ω** (—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ "—á–∏—Å—Ç—ã—Ö" –∫—É–∫–æ–≤ –∏–∑-–∑–∞ —Å–º–µ–Ω—ã IP).
    *   **Rutube:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç **–≤—Å–µ** –≤–∏–¥–µ–æ (–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ, –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ).

## üåç –ö—Ä–æ—Å—Å–ø–æ—Å—Ç–∏–Ω–≥ (Instagram & TikTok)

–ú–æ–¥—É–ª—å `insta_tok` –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å.

### TikTok (–ê–∫—Ç–∏–≤–µ–Ω ‚úÖ)
*   **–õ–æ–≥–∏–∫–∞:** –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–µ–π (9:16). –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è.
*   **–û–ø–∏—Å–∞–Ω–∏–µ:** –í TikTok –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è** —Å YouTube (—Ä–µ—Ü–µ–ø—Ç). –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∏–¥–µ–æ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è.
*   **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫—É–∫–∏ –∏–∑ `insta_tok/tiktok_cookies.txt`.
*   **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `tiktok-uploader` –≤ `venv` –ø—Ä–æ–ø–∞—Ç—á–µ–Ω–∞ (`apply_patch.py`), –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ TikTok.
*   **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:**
    **–í–∞–∂–Ω–æ:** –î–ª—è —Ä–∞–±–æ—Ç—ã —Å TikTok –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å python –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è `venv`.
    ```bash
    ./insta_tok/venv/bin/python insta_tok/publish_tiktok.py video.mp4 "–û–ø–∏—Å–∞–Ω–∏–µ"
    ```

### Instagram (–ü–∞—É–∑–∞ ‚è∏Ô∏è)
*   **–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç "—á–∏—Å—Ç—É—é" —Å–µ—Å—Å–∏—é –±–µ–∑ –º—É–ª—å—Ç–∏-–∞–∫–∫–∞—É–Ω—Ç–æ–≤. –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è (`pp_witch_session.json`) —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
*   **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏):**
    ```bash
    ./insta_tok/venv/bin/python insta_tok/publish_pp_witch.py video.mp4 "–û–ø–∏—Å–∞–Ω–∏–µ"
    ```

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –ó–∞–ø—É—Å–∫ (Systemd)

–°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É 24/7 –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

### –°—Ç–∞—Ç—É—Å –∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
–ë–æ—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `systemd` (—Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).

*   **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
    ```bash
    systemctl --user status rutube-bot
    ```
*   **–°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏):**
    ```bash
    tail -f scheduler.log
    ```
*   **–ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:**
    ```bash
    systemctl --user restart rutube-bot
    ```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
*   `rutube-bot.service`: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (`scheduler.py`). –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∫–∞–∂–¥—ã–µ **3 —á–∞—Å–∞**, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`venv`).
*   `rutube-server.service`: (–ë–æ–ª—å—à–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Catbox, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏).

---

## üõ† –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∏ –æ—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–≤–Ω–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è), –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ python –∏–∑ `venv`, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª TikTok:
```bash
./venv/bin/python3 sync_production.py
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–≤ –ø–∞–ø–∫–µ `tools/`)
*   `tools/sync_db_from_rutube.py` ‚Äî –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–±–∏–ª–∞—Å—å, —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–∫–∞—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ —Å Rutube –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã).
*   `tools/check_status.py <ID>` ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ API.
*   `tools/test_catbox.py` ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –æ–±–º–µ–Ω–Ω–∏–∫–∞.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

*   **`sync_production.py`** ‚Äî –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Catbox –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫.
*   **`set_frame_playwright.py`** ‚Äî –ú–æ–¥—É–ª—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–ª–æ–∂–∫–∏ (–∫–∞–¥—Ä 00:01).
*   **`rutube_cookies.json`** ‚Äî –ö—É–∫–∏ –¥–ª—è Playwright (–Ω—É–∂–Ω—ã –¥–ª—è —Å–º–µ–Ω—ã –æ–±–ª–æ–∂–∫–∏).
*   **`sync_db.sqlite`** ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ.
*   **`insta_tok/`** ‚Äî –ú–æ–¥—É–ª—å –∫—Ä–æ—Å—Å–ø–æ—Å—Ç–∏–Ω–≥–∞ (—Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–µ `venv`, –ø–∞—Ç—á–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã).

## üö® Troubleshooting

### 1. –û—à–∏–±–∫–∞ "Social uploader module not found"
**–ü—Ä–∏—á–∏–Ω–∞:** –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π Python (`python3 sync_production.py`), –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è TikTok.
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —á–µ—Ä–µ–∑ `venv`: `./venv/bin/python3 sync_production.py`.

### 2. –í–∏–¥–µ–æ –¥–æ–ª–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ Rutube
**–ü—Ä–∏—á–∏–Ω–∞:** –û—á–µ—Ä–µ–¥–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Rutube. –°–∫—Ä–∏–ø—Ç –∂–¥–µ—Ç –¥–æ 10 –º–∏–Ω—É—Ç. –ï—Å–ª–∏ –Ω–µ —É—Å–ø–µ–ª ‚Äî –≤–∏–¥–µ–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ, –ø—Ä–æ—Å—Ç–æ –æ–±–ª–æ–∂–∫–∞ (00:01) –º–æ–∂–µ—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è —Å—Ä–∞–∑—É.

### 3. "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª" –∑–∞–≥—Ä—É–∑–∫–∏ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –≤–∏–¥–µ–æ
**–ü—Ä–∏—á–∏–Ω–∞:** –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Å–∫—Ä–∏–ø—Ç –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –≤–∏–¥–µ–æ —É–∂–µ –Ω–∞ Rutube).
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python3 tools/sync_db_from_rutube.py`.

### 4. TikTok –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∏–¥–µ–æ
**–ü—Ä–∏—á–∏–Ω–∞:**
*   –í–∏–¥–µ–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (TikTok –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ 9:16).
*   –£—Å—Ç–∞—Ä–µ–ª–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã (–Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–∞—Ç—á `insta_tok/apply_patch.py`).
*   –ü—Ä–æ–±–ª–µ–º—ã —Å –∫—É–∫–∞–º–∏ (`tiktok_cookies.txt`).
